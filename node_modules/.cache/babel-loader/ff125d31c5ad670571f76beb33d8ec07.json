{"ast":null,"code":"import _objectSpread from \"/Users/khuong/Downloads/address-management-usereducer-add-validation/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _toConsumableArray from \"/Users/khuong/Downloads/address-management-usereducer-add-validation/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport { createSlice } from '@reduxjs/toolkit';\nvar items = localStorage.getItem('cartItems') !== null ? JSON.parse(localStorage.getItem('cartItems')) : [];\nvar initialState = {\n  value: items\n};\nexport var cartItemsSlice = createSlice({\n  name: 'cartItems',\n  initialState: initialState,\n  reducers: {\n    addItem: function addItem(state, action) {\n      var newItem = action.payload;\n      var duplicate = state.value.filter(function (e) {\n        return e.slug === newItem.slug && e.color === newItem.color && e.size === newItem.size;\n      });\n\n      if (duplicate.length > 0) {\n        state.value = state.value.filter(function (e) {\n          return e.slug !== newItem.slug || e.color !== newItem.color || e.size !== newItem.size;\n        });\n        state.value = [].concat(_toConsumableArray(state.value), [{\n          id: duplicate[0].id,\n          slug: newItem.slug,\n          color: newItem.color,\n          size: newItem.size,\n          price: newItem.price,\n          quantity: newItem.quantity + duplicate[0].quantity\n        }]);\n      } else {\n        state.value = [].concat(_toConsumableArray(state.value), [_objectSpread(_objectSpread({}, action.payload), {}, {\n          id: state.value.length > 0 ? state.value[state.value.length - 1].id + 1 : 1\n        })]);\n      }\n\n      localStorage.setItem('cartItems', JSON.stringify(state.value.sort(function (a, b) {\n        return a.id > b.id ? 1 : a.id < b.id ? -1 : 0;\n      })));\n    },\n    updateItem: function updateItem(state, action) {\n      var newItem = action.payload;\n      var item = state.value.filter(function (e) {\n        return e.slug === newItem.slug && e.color === newItem.color && e.size === newItem.size;\n      });\n\n      if (item.length > 0) {\n        state.value = state.value.filter(function (e) {\n          return e.slug !== newItem.slug || e.color !== newItem.color || e.size !== newItem.size;\n        });\n        state.value = [].concat(_toConsumableArray(state.value), [{\n          id: item[0].id,\n          slug: newItem.slug,\n          color: newItem.color,\n          size: newItem.size,\n          price: newItem.price,\n          quantity: newItem.quantity\n        }]);\n      }\n\n      localStorage.setItem('cartItems', JSON.stringify(state.value.sort(function (a, b) {\n        return a.id > b.id ? 1 : a.id < b.id ? -1 : 0;\n      })));\n    },\n    removeItem: function removeItem(state, action) {\n      var item = action.payload;\n      state.value = state.value.filter(function (e) {\n        return e.slug !== item.slug || e.color !== item.color || e.size !== item.size;\n      });\n      localStorage.setItem('cartItems', JSON.stringify(state.value.sort(function (a, b) {\n        return a.id > b.id ? 1 : a.id < b.id ? -1 : 0;\n      })));\n    }\n  }\n}); // Action creators are generated for each case reducer function\n\nvar _cartItemsSlice$actio = cartItemsSlice.actions,\n    addItem = _cartItemsSlice$actio.addItem,\n    removeItem = _cartItemsSlice$actio.removeItem,\n    updateItem = _cartItemsSlice$actio.updateItem;\nexport { addItem, removeItem, updateItem };\nexport default cartItemsSlice.reducer;","map":{"version":3,"names":["createSlice","items","localStorage","getItem","JSON","parse","initialState","value","cartItemsSlice","name","reducers","addItem","state","action","newItem","payload","duplicate","filter","e","slug","color","size","length","id","price","quantity","setItem","stringify","sort","a","b","updateItem","item","removeItem","actions","reducer"],"sources":["/Users/khuong/Downloads/address-management-usereducer-add-validation/src/redux/shopping-cart/cartItemsSlide.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\n\nconst items = localStorage.getItem('cartItems') !== null ? JSON.parse(localStorage.getItem('cartItems')) : []\n\nconst initialState = {\n    value: items,\n}\n\nexport const cartItemsSlice = createSlice({\n    name: 'cartItems',\n    initialState,\n    reducers: {\n        addItem: (state, action) => {\n            const newItem = action.payload\n            const duplicate = state.value.filter(e => e.slug === newItem.slug && e.color === newItem.color && e.size === newItem.size)\n            if (duplicate.length > 0) {\n                state.value = state.value.filter(e => e.slug !== newItem.slug || e.color !== newItem.color || e.size !== newItem.size)\n                state.value = [...state.value, {\n                    id: duplicate[0].id,\n                    slug: newItem.slug,\n                    color: newItem.color,\n                    size: newItem.size,\n                    price: newItem.price,\n                    quantity: newItem.quantity + duplicate[0].quantity\n                }]\n            } else {\n                state.value = [...state.value, {\n                    ...action.payload,\n                    id: state.value.length > 0 ? state.value[state.value.length - 1].id + 1 : 1\n                }]\n            }\n            localStorage.setItem('cartItems', JSON.stringify(state.value.sort((a, b) => a.id > b.id ? 1 : (a.id < b.id ? -1 : 0))))\n        },\n        updateItem: (state, action) => {\n            const newItem = action.payload\n            const item = state.value.filter(e => e.slug === newItem.slug && e.color === newItem.color && e.size === newItem.size)\n            if (item.length > 0) {\n                state.value = state.value.filter(e => e.slug !== newItem.slug || e.color !== newItem.color || e.size !== newItem.size)\n                state.value = [...state.value, {\n                    id: item[0].id,\n                    slug: newItem.slug,\n                    color: newItem.color,\n                    size: newItem.size,\n                    price: newItem.price,\n                    quantity: newItem.quantity\n                }]\n            }\n            localStorage.setItem('cartItems', JSON.stringify(state.value.sort((a, b) => a.id > b.id ? 1 : (a.id < b.id ? -1 : 0))))\n        },\n        removeItem: (state, action) => {\n            const item = action.payload\n            state.value = state.value.filter(e => e.slug !== item.slug || e.color !== item.color || e.size !== item.size)\n            localStorage.setItem('cartItems', JSON.stringify(state.value.sort((a, b) => a.id > b.id ? 1 : (a.id < b.id ? -1 : 0))))\n        },\n    },\n})\n\n// Action creators are generated for each case reducer function\nexport const { addItem, removeItem, updateItem } = cartItemsSlice.actions\n\nexport default cartItemsSlice.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module"}